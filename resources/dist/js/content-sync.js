const x=typeof window<"u"&&window.__CONTENT_SYNC_ENDPOINTS__||{},k=typeof window<"u"&&window.__CONTENT_SYNC_CSRF__||"";async function P(s){const t=await fetch(`${x.options}?type=${encodeURIComponent(s)}`,{credentials:"same-origin"});if(!t.ok)throw new Error(`Options failed (${t.status})`);return(await t.json()).options||[]}async function $(){const s=await fetch(`${x.options}?type=sites`,{credentials:"same-origin"});if(!s.ok)throw new Error(`Sites failed (${s.status})`);return(await s.json()).options||[]}async function L(s){const t=new FormData;Object.entries(s).forEach(([d,l])=>t.append(d,Array.isArray(l)?JSON.stringify(l):l??""));const e=await fetch(x.export,{method:"POST",headers:{"X-CSRF-TOKEN":k},credentials:"same-origin",body:t});if(!e.ok)throw new Error(`Export failed (${e.status})`);const n=await e.blob();let a="export.json";const i=e.headers.get("Content-Disposition")||"",c=/filename="?([^"]+)"?/i.exec(i);c&&(a=c[1]);const r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r);try{const d=await n.text();return{count:(JSON.parse(d).items||[]).length,path:a}}catch{return{count:0,path:a}}}async function I(s){const t=new FormData;t.append("file",s);const e=await fetch(x.preview,{method:"POST",headers:{"X-CSRF-TOKEN":k},credentials:"same-origin",body:t});if(!e.ok)throw new Error(`Preview failed (${e.status})`);return e.json()}async function N(s){const t=await fetch(x.commit,{method:"POST",headers:{"X-CSRF-TOKEN":k,"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(s)});if(!t.ok)throw new Error(`Commit failed (${t.status})`);return t.json()}function O(s,t,e,n,a,i,c,r){var o=typeof s=="function"?s.options:s;return t&&(o.render=t,o.staticRenderFns=e,o._compiled=!0),{exports:s,options:o}}const A={data(){return{types:["collections","taxonomies","navigation","globals","assets"],type:"collections",handles:[],handleOptions:[],siteOptions:[],sites:[],sinceLocal:"",busy:!1,result:null}},async created(){this.siteOptions=await $(),this.handleOptions=await P(this.type)},watch:{async type(s){this.handles=[],this.handleOptions=await P(s)}},methods:{toISO(s){return s?new Date(s).toISOString():""},async runExport(){this.busy=!0;try{const s={type:this.type,handles:this.handles,sites:this.sites,since:this.toISO(this.sinceLocal),out:""};this.result=await L(s),Statamic.$toast.success("Export downloaded.")}catch(s){Statamic.$toast.error(s.message||"Export failed.")}finally{this.busy=!1}}}};var T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card p-6 space-y-5"},[t._m(0),e("div",{staticClass:"flex flex-wrap gap-4"},[e("div",{staticClass:"w-full lg:w-1/3"},[e("label",{staticClass:"block font-medium mb-1"},[t._v("Type")]),e("v-select",{attrs:{options:t.types,clearable:!1},model:{value:t.type,callback:function(n){t.type=n},expression:"type"}})],1),e("div",{staticClass:"w-full lg:w-1/3"},[e("label",{staticClass:"block font-medium mb-1"},[t._v("Sites")]),e("v-select",{attrs:{options:t.siteOptions,multiple:!0,reduce:n=>n},model:{value:t.sites,callback:function(n){t.sites=n},expression:"sites"}})],1),e("div",{staticClass:"w-full lg:w-1/3"},[e("label",{staticClass:"block font-medium mb-1"},[t._v("Since")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sinceLocal,expression:"sinceLocal"}],staticClass:"input",attrs:{type:"datetime-local"},domProps:{value:t.sinceLocal},on:{input:function(n){n.target.composing||(t.sinceLocal=n.target.value)}}}),e("small",{staticClass:"text-gray-500"},[t._v("Optional. Filters by updated_at ≥ since.")])])]),e("div",[e("label",{staticClass:"block font-medium mb-1"},[t._v("Handles")]),e("v-select",{attrs:{options:t.handleOptions,multiple:!0,reduce:n=>n,taggable:!1,placeholder:"Select one or more"},model:{value:t.handles,callback:function(n){t.handles=n},expression:"handles"}}),t.handleOptions.length?t._e():e("div",{staticClass:"mt-2 text-gray-600 text-sm"},[t._v(" No handles available for “"+t._s(t.type)+"”. ")])],1),e("div",{staticClass:"flex items-center gap-3"},[e("button",{staticClass:"btn-primary",attrs:{disabled:t.busy},on:{click:t.runExport}},[t._v(t._s(t.busy?"Exporting…":"Export & Download"))]),t.result?e("span",{staticClass:"text-gray-600"},[t._v("Exported "),e("b",[t._v(t._s(t.result.count))]),t._v(" → "),e("code",[t._v(t._s(t.result.path))])]):t._e()])])},F=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"flex items-start justify-between flex-wrap gap-4"},[t("div",[t("div",{staticClass:"font-bold text-lg"},[s._v("Export")]),t("div",{staticClass:"text-gray-600"},[s._v("Select a type, handles, sites and a “since” date/time. The file downloads locally and includes a tamper-proof signature.")])])])}],D=O(A,T,F);const M=D.exports;class R{diff(t,e,n={}){let a;typeof n=="function"?(a=n,n={}):"callback"in n&&(a=n.callback);const i=this.castInput(t,n),c=this.castInput(e,n),r=this.removeEmpty(this.tokenize(i,n)),o=this.removeEmpty(this.tokenize(c,n));return this.diffWithOptionsObj(r,o,n,a)}diffWithOptionsObj(t,e,n,a){var i;const c=u=>{if(u=this.postProcess(u,n),a){setTimeout(function(){a(u)},0);return}else return u},r=e.length,o=t.length;let d=1,l=r+o;n.maxEditLength!=null&&(l=Math.min(l,n.maxEditLength));const v=(i=n.timeout)!==null&&i!==void 0?i:1/0,m=Date.now()+v,p=[{oldPos:-1,lastComponent:void 0}];let f=this.extractCommon(p[0],e,t,0,n);if(p[0].oldPos+1>=o&&f+1>=r)return c(this.buildValues(p[0].lastComponent,e,t));let b=-1/0,h=1/0;const g=()=>{for(let u=Math.max(b,-d);u<=Math.min(h,d);u+=2){let y;const _=p[u-1],C=p[u+1];_&&(p[u-1]=void 0);let w=!1;if(C){const E=C.oldPos-u;w=C&&0<=E&&E<r}const S=_&&_.oldPos+1<o;if(!w&&!S){p[u]=void 0;continue}if(!S||w&&_.oldPos<C.oldPos?y=this.addToPath(C,!0,!1,0,n):y=this.addToPath(_,!1,!0,1,n),f=this.extractCommon(y,e,t,u,n),y.oldPos+1>=o&&f+1>=r)return c(this.buildValues(y.lastComponent,e,t))||!0;p[u]=y,y.oldPos+1>=o&&(h=Math.min(h,u-1)),f+1>=r&&(b=Math.max(b,u+1))}d++};if(a)(function u(){setTimeout(function(){if(d>l||Date.now()>m)return a(void 0);g()||u()},0)})();else for(;d<=l&&Date.now()<=m;){const u=g();if(u)return u}}addToPath(t,e,n,a,i){const c=t.lastComponent;return c&&!i.oneChangePerToken&&c.added===e&&c.removed===n?{oldPos:t.oldPos+a,lastComponent:{count:c.count+1,added:e,removed:n,previousComponent:c.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:e,removed:n,previousComponent:c}}}extractCommon(t,e,n,a,i){const c=e.length,r=n.length;let o=t.oldPos,d=o-a,l=0;for(;d+1<c&&o+1<r&&this.equals(n[o+1],e[d+1],i);)d++,o++,l++,i.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return l&&!i.oneChangePerToken&&(t.lastComponent={count:l,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=o,d}equals(t,e,n){return n.comparator?n.comparator(t,e):t===e||!!n.ignoreCase&&t.toLowerCase()===e.toLowerCase()}removeEmpty(t){const e=[];for(let n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e}castInput(t,e){return t}tokenize(t,e){return Array.from(t)}join(t){return t.join("")}postProcess(t,e){return t}get useLongestToken(){return!1}buildValues(t,e,n){const a=[];let i;for(;t;)a.push(t),i=t.previousComponent,delete t.previousComponent,t=i;a.reverse();const c=a.length;let r=0,o=0,d=0;for(;r<c;r++){const l=a[r];if(l.removed)l.value=this.join(n.slice(d,d+l.count)),d+=l.count;else{if(!l.added&&this.useLongestToken){let v=e.slice(o,o+l.count);v=v.map(function(m,p){const f=n[d+p];return f.length>m.length?f:m}),l.value=this.join(v)}else l.value=this.join(e.slice(o,o+l.count));o+=l.count,l.added||(d+=l.count)}}return a}}class W extends R{constructor(){super(...arguments),this.tokenize=z}equals(t,e,n){return n.ignoreWhitespace?((!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),super.equals(t,e,n)}}const U=new W;function j(s,t,e){return U.diff(s,t,e)}function z(s,t){t.stripTrailingCr&&(s=s.replace(/\r\n/g,`
`));const e=[],n=s.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(let a=0;a<n.length;a++){const i=n[a];a%2&&!t.newlineIsToken?e[e.length-1]+=i:e.push(i)}return e}const q={name:"ChevronIcon",functional:!0,props:{open:{type:Boolean,default:!1}},render(s,{props:t}){return s("svg",{attrs:{viewBox:"0 0 20 20",fill:"currentColor",width:18,height:18,"aria-hidden":"true"},class:t.open?"transform rotate-180 text-gray-600":"text-gray-600"},[s("path",{attrs:{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z"}})])}},H={name:"ImportPanel",components:{ChevronIcon:q},data(){return{loading:!1,error:"",groups:null,type:"",open:{},strategy:"manual",autoAction:"incoming",decisions:{},committing:!1,totalChanged:0,strategyOptions:[{label:"Manual (review per item)",value:"manual"},{label:"Auto (apply one action to all)",value:"auto"}],acceptOptions:[{label:"Accept Incoming changes",value:"incoming"},{label:"Accept Current changes",value:"current"},{label:"Accept Both changes",value:"both"}],contextLines:6}},computed:{filteredGroups(){if(!this.groups)return null;const s={};let t=0;return Object.entries(this.groups).forEach(([e,n])=>{const a={};Object.entries(n).forEach(([i,c])=>{const r=(c||[]).filter(o=>!this.isMeaningfullyUnchanged(o,this.type));r.length&&(a[i]=r,t+=r.length)}),Object.keys(a).length&&(s[e]=a)}),this.totalChanged=t,s}},methods:{isOpen(s){return!!this.open[s]},toggle(s){this.$set(this.open,s,!this.open[s])},totalInSites(s){return Object.values(s).reduce((t,e)=>t+(Array.isArray(e)?e.length:0),0)},badge(s){return s==="create"?"badge-green":s==="update"?"badge-amber":"badge-gray"},pretty(s){try{return JSON.stringify(s,null,2)}catch{return String(s)}},escape(s){return String(s).replace(/[&<>]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[t])},labelFor(s){const t=this.acceptOptions.find(e=>e.value===s);return t?t.label:s},stableStringify(s){const t=new WeakSet,e=n=>{if(n&&typeof n=="object"){if(t.has(n))return;if(t.add(n),Array.isArray(n))return n.map(e);const a={};return Object.keys(n).sort().forEach(i=>a[i]=e(n[i])),a}return n};return JSON.stringify(e(s))},deepEqual(s,t){try{return this.stableStringify(s)===this.stableStringify(t)}catch{return!1}},relevantPair(s,t){const e=(s==null?void 0:s.current)??{},n=(s==null?void 0:s.incoming)??{};switch(t){case"collections":return[{data:e.data??{},published:"published"in e?!!e.published:void 0},{data:n.data??{},published:"published"in n?!!n.published:void 0}];case"taxonomies":case"globals":case"assets":return[{data:e.data??{}},{data:n.data??{}}];case"navigation":return[{tree:e.tree??[]},{tree:n.tree??[]}];default:return[e,n]}},isMeaningfullyUnchanged(s,t){const[e,n]=this.relevantPair(s,t);return this.deepEqual(e,n)},toEpoch(s){if(s==null)return 0;if(typeof s=="number")return s>1e12?s:s*1e3;if(typeof s=="string"){const t=Number(s);if(!Number.isNaN(t))return t>1e12?t:t*1e3;const e=Date.parse(s);return Number.isNaN(e)?0:e}return 0},itemEpoch(s){var t;return this.toEpoch((s==null?void 0:s.updated_at)??((t=s==null?void 0:s.data)==null?void 0:t.updated_at)??0)},fresherSide(s){const t=this.itemEpoch(s.current),e=this.itemEpoch(s.incoming);return t>e?"current":(e>t,"incoming")},buildPanelHunks(s,t){const[e,n]=this.relevantPair(s,this.type),a=this.pretty(e),i=this.pretty(n),c=j(a,i),r=this.fresherSide(s),o=[];for(const m of c){const p=(m.value||"").split(`
`);if(p[p.length-1]===""&&p.pop(),m.added){if(t==="incoming"){const f=r==="incoming"?"+":"-";p.forEach(b=>o.push({tag:f,line:b}))}continue}if(m.removed){if(t==="current"){const f=r==="current"?"+":"-";p.forEach(b=>o.push({tag:f,line:b}))}continue}p.forEach(f=>o.push({tag:" ",line:f}))}const d=this.contextLines,l=[];let v=0;for(;v<o.length;)if(o[v].tag!==" "){const m=Math.max(0,v-d);let p=v;for(;p<o.length&&o[p].tag!==" ";)p++;const f=Math.min(o.length,p+d);l.push(o.slice(m,f)),v=f}else v++;return l.length?l:[[{tag:" ",line:"(no changes)"}]]},renderPanelWithContext(s,t){const e=this.buildPanelHunks(s,t),n=[];return e.forEach((a,i)=>{i>0&&n.push('<div class="hunk-gap">…</div>'),a.forEach(c=>{c.tag==="+"?n.push(`<span class="line-add">+ ${this.escape(c.line)}</span>`):c.tag==="-"?n.push(`<span class="line-del">- ${this.escape(c.line)}</span>`):n.push(this.escape(c.line))})}),n.join(`
`)},mergeFinal(s,t,e){if(e==="incoming")return t;if(e==="current")return s;const n=(a,i)=>{if(Array.isArray(a)&&Array.isArray(i))return i;if(a&&typeof a=="object"&&i&&typeof i=="object"){const c={...a};return Object.keys(i).forEach(r=>c[r]=n(a==null?void 0:a[r],i[r])),c}return i!==void 0?i:a};return n(s,t)},renderFinalWithContext(s,t){const[e,n]=this.relevantPair(s,this.type),a=this.mergeFinal(e,n,t),i=this.pretty(t==="incoming"?n:e),c=this.pretty(a),r=j(i,c),o=new Set;let d=0;for(const h of r){const g=(h.value||"").split(`
`);if(g[g.length-1]===""&&g.pop(),h.added)for(let u=0;u<g.length;u++)o.add(d+u);h.removed||(d+=g.length)}const l=c.split(`
`),v=this.contextLines,m=[],p=[...o].sort((h,g)=>h-g);for(const h of p)m.push([Math.max(0,h-v),Math.min(l.length-1,h+v)]);const f=[];if(m.length){f.push(m[0].slice());for(let h=1;h<m.length;h++){const[g,u]=m[h],y=f[f.length-1];g<=y[1]+1?y[1]=Math.max(y[1],u):f.push([g,u])}}const b=[];return f.length?(f.forEach(([h,g],u)=>{u>0&&b.push('<div class="hunk-gap">…</div>');for(let y=h;y<=g;y++){const _=l[y];o.has(y)?b.push(`<span class="line-final">+ ${this.escape(_)}</span>`):b.push(this.escape(_))}}),b.join(`
`)):(l.forEach((h,g)=>b.push(this.escape(h))),b.join(`
`))},autoDefault(s){return this.fresherSide(s)},async onFile(s){const t=s.target.files&&s.target.files[0];if(t){this.loading=!0,this.error="",this.groups=null,this.decisions={},this.open={};try{const e=await I(t);this.type=e.type,this.groups=e.groups||{},Object.keys(this.groups).forEach(n=>this.$set(this.open,n,!0)),this.$nextTick(()=>{Object.values(this.filteredGroups||{}).forEach(n=>{Object.values(n).forEach(a=>{a.forEach(i=>this.$set(this.decisions,i.key,this.autoDefault(i)))})})})}catch(e){this.error=(e==null?void 0:e.message)||"Failed to analyze file."}finally{this.loading=!1}}},async commit(){if(this.totalChanged===0){Statamic.$toast.info("Nothing to apply.");return}this.committing=!0;try{let s;if(this.strategy==="auto")s={type:this.type,strategy:"auto",auto_action:this.autoAction};else{const e=[];Object.values(this.filteredGroups).forEach(n=>{Object.values(n).forEach(a=>{a.forEach(i=>e.push({key:i.key,action:this.decisions[i.key]||this.autoDefault(i)}))})}),s={type:this.type,strategy:"manual",decisions:e}}const t=await N(s);Statamic.$toast.success(`Updated ${t.results.updated}, Created ${t.results.created}, Skipped ${t.results.skipped}`)}catch(s){Statamic.$toast.error((s==null?void 0:s.message)||"Commit failed.")}finally{this.committing=!1}}}};var J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-sync-import card p-6 space-y-5"},[e("div",{staticClass:"flex items-start justify-between flex-wrap gap-4"},[t._m(0),e("div",{staticClass:"flex items-center"},[e("input",{attrs:{type:"file",accept:"application/json,.json"},on:{change:t.onFile}})])]),t.loading?e("div",{staticClass:"py-8 text-center"},[e("loading-graphic"),e("div",{staticClass:"mt-2 text-gray-600"},[t._v("Analyzing…")])],1):t._e(),t.error?e("div",{staticClass:"text-red-700 bg-red-50 border border-red-200 rounded p-3"},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.filteredGroups?e("div",[e("div",{staticClass:"flex flex-wrap items-end gap-4 mb-4"},[e("div",[e("label",{staticClass:"block font-medium mb-1"},[t._v("Review strategy")]),e("v-select",{staticStyle:{width:"200px"},attrs:{options:t.strategyOptions,reduce:n=>n.value,clearable:!1},model:{value:t.strategy,callback:function(n){t.strategy=n},expression:"strategy"}})],1),t.strategy==="auto"?e("div",[e("label",{staticClass:"block font-medium mb-1"},[t._v("Accept the change")]),e("v-select",{staticStyle:{width:"260px"},attrs:{options:t.acceptOptions,reduce:n=>n.value,clearable:!1},model:{value:t.autoAction,callback:function(n){t.autoAction=n},expression:"autoAction"}})],1):t._e(),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-primary",attrs:{disabled:t.committing||t.totalChanged===0},on:{click:t.commit}},[t._v(" "+t._s(t.committing?"Committing…":t.strategy==="auto"?"Apply Auto Action":"Complete Import")+" ")])])]),t._l(t.filteredGroups,function(n,a){return e("div",{key:a,staticClass:"mb-3 border rounded"},[e("button",{staticClass:"w-full flex items-center justify-between px-3 py-2 bg-gray-100 hover:bg-gray-200",on:{click:function(i){return t.toggle(a)}}},[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s(a)+" "),e("span",{staticClass:"text-gray-500"},[t._v("("+t._s(t.totalInSites(n))+")")])]),e("ChevronIcon",{attrs:{open:t.isOpen(a)}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen(a),expression:"isOpen(handle)"}],staticClass:"p-3 pt-2"},[t._l(n,function(i,c){return e("div",{key:a+"::"+c,staticClass:"mb-2 border rounded"},[e("button",{staticClass:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",on:{click:function(r){return t.toggle(a+"::"+c)}}},[e("div",[e("span",{staticClass:"font-medium"},[t._v("Site:")]),t._v(" "+t._s(c)+" "),e("span",{staticClass:"text-gray-500"},[t._v("("+t._s(i.length)+")")])]),e("ChevronIcon",{attrs:{open:t.isOpen(a+"::"+c)}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen(a+"::"+c),expression:"isOpen(handle + '::' + site)"}],staticClass:"p-3 pt-2 space-y-3"},t._l(i,function(r){return e("div",{key:r.key,staticClass:"border rounded"},[e("div",{staticClass:"flex items-center justify-between px-3 py-2"},[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s(r.key)+" "),e("span",{staticClass:"badge",class:t.badge(r.status)},[t._v(t._s(r.status))])]),e("div",{staticClass:"flex items-center gap-2"},[t.strategy==="manual"?e("div",{staticClass:"hidden md:block"},[e("v-select",{staticStyle:{width:"230px"},attrs:{options:t.acceptOptions,reduce:o=>o.value,clearable:!1},model:{value:t.decisions[r.key],callback:function(o){t.$set(t.decisions,r.key,o)},expression:"decisions[it.key]"}})],1):t._e(),e("button",{staticClass:"icon-btn",attrs:{"aria-expanded":t.isOpen("item::"+r.key)},on:{click:function(o){return t.toggle("item::"+r.key)}}},[e("ChevronIcon",{attrs:{open:t.isOpen("item::"+r.key)}})],1)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen("item::"+r.key),expression:"isOpen('item::' + it.key)"}],staticClass:"px-3 pb-3 space-y-4"},[t.strategy==="manual"?[e("div",{staticClass:"flex flex-nowrap gap-3"},[e("div",{staticClass:"basis-1/2 min-w-0"},[e("div",{staticClass:"text-gray-700 font-semibold mb-1"},[t._v("Current")]),e("pre",{staticClass:"code-block",domProps:{innerHTML:t._s(t.renderPanelWithContext(r,"current"))}})]),e("div",{staticClass:"basis-1/2 min-w-0"},[e("div",{staticClass:"text-gray-700 font-semibold mb-1"},[t._v("Incoming")]),e("pre",{staticClass:"code-block",domProps:{innerHTML:t._s(t.renderPanelWithContext(r,"incoming"))}})])]),e("div",{staticClass:"mt-3"},[e("div",{staticClass:"text-gray-700 font-semibold mb-1"},[t._v("Final merge")]),e("pre",{staticClass:"code-block",domProps:{innerHTML:t._s(t.renderFinalWithContext(r,t.decisions[r.key]||t.autoDefault(r)))}})])]:[e("div",{staticClass:"text-gray-600 text-sm"},[t._v("Auto strategy will apply: "),e("b",[t._v(t._s(t.labelFor(t.autoAction)))])])]],2)])}),0)])}),t.totalInSites(n)===0?e("div",{staticClass:"text-gray-500 text-sm px-1"},[t._v(" No changes under this handle. ")]):t._e()],2)])}),t.strategy==="auto"?e("div",{staticClass:"text-gray-600 text-sm"},[t._v(" Will apply "),e("b",[t._v(t._s(t.labelFor(t.autoAction)))]),t._v(" to "+t._s(t.totalChanged)+" changed item"),t.totalChanged!==1?e("span",[t._v("s")]):t._e(),t._v(". ")]):t._e()],2):t._e()])},G=[function(){var s=this,t=s._self._c;return t("div",[t("div",{staticClass:"font-bold text-lg"},[s._v("Import")]),t("div",{staticClass:"text-gray-600"},[s._v(" Upload an exported JSON. We verify integrity, group by "),t("b",[s._v("handle → site")]),s._v(", and show only changed items. ")])])}],V=O(H,J,G);const B=V.exports,K={components:{ExportPanel:M,ImportPanel:B},data(){return{tab:"export"}}};var X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"space-y-6"},[e("div",{staticClass:"cs-card p-4 flex items-center justify-between"},[e("div",{staticClass:"cs-title"},[t._v("Content Sync")]),e("div",{staticClass:"cs-tabbar"},[e("button",{staticClass:"cs-tab",class:{active:t.tab==="export"},on:{click:function(n){t.tab="export"}}},[t._v("Export")]),e("button",{staticClass:"cs-tab",class:{active:t.tab==="import"},on:{click:function(n){t.tab="import"}}},[t._v("Import")])])]),t.tab==="export"?e("ExportPanel"):e("ImportPanel")],1)},Y=[],Q=O(K,X,Y);const Z=Q.exports;Statamic.booting(()=>{Statamic.$components.register("content-sync-utility",Z)});
